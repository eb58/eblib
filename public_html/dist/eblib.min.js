/*! eblib 2016-10-03 */
!function(a){"use strict";a.fn.ebbind=function(b,c){var d=this[0].id,e=this[0].type,f=this;if(c=c||d,"text"===e||"password"===e)this.val(b[c]).on("change",function(){b[c]=f.val(),console.log("changed "+d,b[c],b)}).on("keyup",function(){b[c]=f.val(),console.log("changed "+d,f,b[c],b)});else if("checkbox"===e)this.prop("checked",b[c]).on("click",function(){b[c]=f.prop("checked"),console.log("changed "+d,b[c],b)});else if(a("select",this).length)this.setSelectedValue(b[c]).on("selectmenuchange",function(){b[c]=f.getSelectedValue(),console.log("select changed "+d,b[c],b)});else if(a("input:radio",this).length)this.val(b[c]).on("change",function(){b[c]=f.val(),console.log("radio changed "+d,b[c],b)});else if(a("textarea",this).length){var g=a("textarea",this);g.val(b[c],this).on("keyup",function(){b[c]=g.val(),console.log("textarea changed "+d,b[c],b)}),this.setTextAreaCounter()}else if(a(".ebselect",this).length){var g=a("input:checkbox",this);b[c]&&b[c].forEach(function(b){_.isNumber(b)?a(g[b]).prop("checked",!0):a("#"+b.replace(/ /g,""),f).prop("checked",!0)}),g.on("click",function(){b[c]=f.getSelectedValuesAsString(),console.log("textarea changed "+d,b[c],b)})}return this}}(jQuery),function(a){a.fn.ebdropdown=function(b,c,d){if(this&&this[0]){var e=this[0].id,f={id:e+"X",width:"100%",disabled:!1,jqueryui:!0,change:function(a,b){}},g=a.extend({},f,b),h="#"+g.id,i=function(b){if(b){var c=""+(b.txt||b.v||b);a(h+" option").filter(function(d,e){return b.txt?a(e).text()===b.txt:b.v?a(e).val()===b.v:a(e).text()===c||a(e).val()===c}).prop("selected","selected"),g.jqueryui&&a(h).selectmenu().selectmenu("refresh")}return this},j=function(){var b=a(h).val();return b&&"null"!==b?b:null},k=function(b){var e=_.map(c,function(a){var b="undefined"!=typeof a.txt?" value="+a.v:"",c="undefined"!=typeof a.txt?a.txt:a;return"<option"+b+">"+c+"</option>"}).join("\n"),f=_.template('<select id="<%=id%>" name="<%=id%>" size="1"><%= o %> </select>');b.html(f({id:g.id,w:g.width,o:e})),i(d),g.jqueryui?(a(h).selectmenu().selectmenu(g),g.disabled&&a(h).selectmenu("disable")):(g.disabled&&a(h).prop("disabled",!0),a(h).change(g.change).width(g.width))};return k(this),this.setSelectedValue=i,this.getSelectedValue=j,this}}}(jQuery),function(a){"use strict";a.fn.eblist=function(b,c){var d=this[0].id,e={height:Math.min(100,50*c.length),width:400},f=a.extend({},e,b);(function(a){var b=_.reduce(c,function(a,b){return a+_.template("<li><%=val%></li>")({val:b})},""),d=_.template('            <div class="eblist" style="height:<%=height%>px; width:<%=width%>px;">\n              <ul> <%=options%> </ul>\n            </div>\n')({options:b,width:f.width,height:f.height});a.html(d)})(this);return this.id=d,this}}(jQuery),function(a){"use strict";a.fn.ebradio=function(b,c,d){var e=this[0].id,f={vertical:!1,width:400,icon:!1},g=a.extend({},f,b);(function(a){var b=_.reduce(c,function(a,b){return a+_.template('<label><input type="radio" id="<%=val%>" name="<%=name%>"><%=val%></label><%=vertical%>')({name:e,val:b,vertical:g.vertical?"<br>":""})},""),d=_.template('            <div class="ebradio">\n              <%=options%>\n            </div>\n')({options:b});a.html(d)})(this);return a("#"+e+" input").checkboxradio(g),this.id=e,this.val=function(b){return _.isString(b)||_.isNumber(b)?(a("#"+e+" #"+b).prop("checked",!0).checkboxradio("refresh"),this):a("#"+e+" input:radio:checked").prop("id")},this}}(jQuery),function(a){"use strict";a.fn.ebselect=function(b,c){c=c||[];var d=this[0].id,e=this,f={height:Math.min(100,50*b.values.length),width:400,values:[{v:"1",txt:"test1"},{v:"2",txt:"test2"}],onselchange:function(a){console.log("selected values:"+a.getSelectedValues())}},g=a.extend({},f,b);this.id=d,g.values=_.map(g.values,function(a,b){return _.isString(a)?{v:b,txt:a}:a}),c.length&&(_.isNumber(c[0])?_.each(g.values,function(a){a.selected=_.indexOf(c,a.v)>=0}):_.each(g.values,function(a){a.selected=_.indexOf(c,a.txt)>=0}));(function(b){var c=_.reduce(g.values,function(a,b){var c=b.selected?'checked="checked"':"";return a+_.template('               <li>                 <input type="checkbox" id="<%=id%>" value="<%=value%>" <%=isselected%> /><%=txt%>\n               </li>')({id:b.txt.replace(/ /g,""),value:b.v,isselected:c,txt:b.txt})},""),e=_.template('            <div class="ebselect" style="height:<%=height%>px; width:<%=width%>px;">\n              <ul> <%=options%> </ul>\n            </div>\n')({options:c,width:g.width,height:g.height});b.html(e),g.disabled&&a("#"+d+" input").prop("disabled",!0)})(this);return this.getSelectedValues=function(){return _.pluck(a("#"+d+" .ebselect input:checked"),"value")},this.getSelectedValuesAsString=function(){return _.map(this.getSelectedValues(),function(a,b){return _.findWhere(g.values,{v:parseInt(a)}).txt})},a("#"+d+" .ebselect input").on("change",function(){g.onselchange(e)}),g.onselchange(this),this}}(jQuery),function(a){"use strict";function b(a){var b=("0"+a.getDate()).slice(-2),c=("0"+(a.getMonth()+1)).slice(-2),d=a.getFullYear(),e=("0"+a.getHours()).slice(-2),f=("0"+a.getMinutes()).slice(-2),g=("0"+a.getSeconds()).slice(-2);return b+"."+c+"."+d+" "+e+":"+f+":"+g}a.fn.ebtable=function(b,c,d){function e(){return F.flags.config?'<button id ="configBtn">'+C("Anpassen")+' <span class = "ui-icon ui-icon-shuffle"></button>':""}function f(){for(var a=F.selection?'<th class="selectCol"><input id="checkAll" type="checkbox"></th>':"",b=0;b<F.columns.length;b++){var c=F.columns[F.colorder[b]];if(!c.invisible){var d="";if(F.flags.filter){var e='<input type="text" id="<%=colid%>" title="<%=tooltip%>"/>',f='<select id="<%=colid%>"><%=opts%></select>',g=(c.valuelist||[]).reduce(function(a,b){return a+"<option "+b+">"+b+"</option>"},""),h=c.valuelist?f:e;d=_.template(h)({colid:c.id,opts:g,tooltip:c.tooltip})}var i=c.css?' style="'+c.css+'"':"",h='            <th id="<%=colid%>" <%=style%> >\n              <div class="sort_wrapper"><span/><%=colname%></div>\n              <%=fld%>\n             </th>';a+=_.template(h)({colname:c.name.replace(/-/g,"&#8209;").replace(/ /g,"&#0160;"),colid:c.id,fld:d,style:i,tooltip:c.tooltip})}}return a}function g(a){if(G[0]&&G[0].length!==F.columns.length)return B("Definition and Data dont match!"),"";for(var b="",c=F.rowsPerPage*a,d=F.groupdefs,e=c;e<Math.min(c+F.rowsPerPage,H.length);e++){var f=H[e];if(!d||!f.isGroupElement||G.groups[H[e][d.groupid]].isOpen){var g=f.isGroupElement?'class="group"':"";g=f.isGroupHeader?'class="groupheader"':g,b+="<tr>";var h=H[e].selected?' checked="checked" ':" ";if(F.selection&&F.selection.render){var i="<td "+g+">"+F.selection.render(G,f,h)+"</td>";b+=i.replace("input type",'input id="check'+e+'"'+h+" type")}else F.selection&&F.singleSelection?b+="<td "+g+'><input id="check'+e+'" type="radio"'+h+"/></td>":F.selection&&!F.singleSelection&&(b+="<td "+g+'><input id="check'+e+'" type="checkbox"'+h+"/></td>");for(var j=F.colorder,k=0;k<F.columns.length;k++){var l=F.columns[j[k]];if(!l.invisible){var i=H[e][j[k]],m=_.isNumber(i)?i:i||"",n=l.render?l.render(m,f,e):m,o=l.css?' style="'+l.css+'"':"";b+="<td "+g+o+">"+n+"</td>"}}b+="</tr>\n"}}return b}function h(){if(!F.flags.pagelenctrl)return"";var a=F.rowsPerPageSelectValues.reduce(function(a,b){var c=b===F.rowsPerPage?"selected":"";return a+'<option value="'+b+'" '+c+">"+b+"</option>\n"},"");return'<select id="lenctrl">\n'+a+"</select>\n"}function i(){return'<button class="firstBtn"><span class="ui-icon ui-icon-seek-first"></button>              <button class="backBtn"><span  class="ui-icon ui-icon-seek-prev" ></button>              <button class="nextBtn"><span  class="ui-icon ui-icon-seek-next" ></button>              <button class="lastBtn"><span  class="ui-icon ui-icon-seek-end"  ></button>'}function j(){var a=Math.min(F.rowsPerPage*I+1,H.length),b=Math.min(a+F.rowsPerPage-1,H.length),c=G.length===H.length?"":_.template(C("(<%=len%> Einträge insgesamt)"))({len:G.length}),d=_.template(C("<%=start%> bis <%=end%> von <%=count%> Zeilen <%= filtered %>")),e=d({start:a,end:b,count:H.length,filtered:c});return e}function k(b,c,d){if(c){c.selected=d;var e=F.groupdefs,f=c[e.groupid];if(e&&f&&c[e.grouplabel]===e.grouphead){B("Groupheader "+(d?"selected!":"unselected!"),f,c[e.grouplabel]),G.getGroupRows(e,f).forEach(function(a){a.selected=d});for(var g=0;g<H.length;g++)H[g][e.groupid]===f&&a(y+"#check"+g).prop("checked",d)}else B("Row "+(d?"selected!":"unselected!"),b),a(y+"#check"+b).prop("checked",d);F.onSelection&&F.onSelection(b,c,G)}}function l(b){B("selectRows",b);var c=a(b.target).prop("checked");if("checkAll"===b.target.id)H.forEach(function(a,b){k(b,H[b],c)});else{F.singleSelection&&H.forEach(function(a,b){a.selected&&k(b,a,!1)});var d=b.target.id.replace("check","");k(d,H[d],c),a("#checkAll").prop("checked",!1)}}function m(){a(y+"#data input[type=checkbox]").prop("checked",!1),F.onSelection&&G.forEach(function(a,b){a.selected&&k(b,a,!1)})}function n(){var b=D.colColIdFromName(F.sortcolname),c=D.indexOfCol(F.sortcolname),d=F.columns[c],e="asc"===d.order;a(y+"thead div span").removeClass(),a(y+"thead #"+b+" div span").addClass("ui-icon ui-icon-arrow-1-"+(e?"n":"s"))}function o(){var b={desc:"asc",asc:"desc","desc-fix":"desc-fix","asc-fix":"asc-fix"},c=D.indexOfCol(F.sortcolname),d=F.columns[c],e=a.extend([],d.sortmaster?d.sortmaster:F.sortmaster);_(_(d.sortmaster).pluck("col")).indexOf(c)<0&&e.push({col:c,sortformat:d.sortformat,order:d.order}),e.forEach(function(a){F.columns[a.col].order=b[F.columns[a.col].order]||"asc"})}function p(a){var b=a.currentTarget.id;if(b&&F.flags.withsorting)if(m(),F.sortcolname=D.colNameFromColid(b),o(),F.hasMoreResults){var c=F.columns[D.indexOfCol(F.sortcolname)],d={};d[c.dbcol]=c.order,F.reloadData(d)}else q()}function q(){if(F.sortcolname){n();var b=D.indexOfCol(F.sortcolname),c=F.columns[b],d=a.extend([],c.sortmaster?c.sortmaster:F.sortmaster);_(_(c.sortmaster).pluck("col")).indexOf(b)<0&&d.push({col:b,sortformat:c.sortformat,order:c.order}),d.forEach(function(a){a.order=F.columns[a.col].order||"desc"}),H=H.sort(H.rowCmpCols(d,G.groupsdata)),I=0,v(I),B("sorting",F.sortcolname)}}function r(a){B("filtering",a,a.which),m(),u(),I=0,J=Math.floor((H.length-1)/F.rowsPerPage),v(I)}function s(a){if(13===a.which&&F.reloadData){B("reloading",a,a.which);var b=F.columns[D.indexOfCol(F.sortcolname)],c={};b&&(c[b.dbcol]=b.order),F.reloadData(c),a.preventDefault()}}function t(a){return a.target.focus(),!1}function u(){var b=[];a(y+"thead th input[type=text],"+y+"thead th select").each(function(c,d){var e=a(d).val().trim();if(e){var f=a(d).attr("id"),g=D.colNameFromColid(f),h=D.indexOfCol(g),i=D.getRender(g),j=D.getMatch(g);b.push({col:h,searchtext:a.trim(e),render:i,match:j})}}),H=mx(G.filterGroups(F.groupdefs,G.groups)),H=mx(0===b.length?H:H.filterData(b)),q()}function v(b,c){a(y+"#ctrlInfo").html(j()),a(y+"#data tbody").html(g(b)),c&&(a(y+"thead tr").html(f()),a(y+"thead th").off().on("click",p),a(y+"thead input[type=text]").off().on("keypress",s).on("keyup",r).on("click",t),a(y+"thead select").off().on("change",r).on("click",t)),a(y+"#data input[type=checkbox]").off().on("change",l),a(y+"#data input[type=radio]").off().on("change",l),F.singleSelection&&a(y+"#checkAll").hide(),F.afterRedraw&&F.afterRedraw(this)}function w(a){A.loadState(localStorage[z]?JSON.parse(localStorage[z]):null),b.getState&&A.loadState(b.getState()),D.checkConfig(),F.columns=F.columns.map(function(a){return a.id=a.name.replace(/[^\d\w]/g,""),a}),J=Math.floor((H.length-1)/F.rowsPerPage);var c=_.template("        <div class='ebtable' style='width:<%=bodyWidth%>px'>\n          <div class='ctrl'>\n            <div id='ctrlLength' style='float: left;'><%= selectLen  %></div>\n            <div id='ctrlConfig' style='float: left;'><%= configBtn  %></div>\n            <div id='ctrlPage1'  style='float: right;'><%= browseBtns %></div>\n          </div>\n          <div id='data' style='overflow-y:auto;overflow-x:auto; max-height:<%= bodyHeight %>px; width:100%'>\n            <table>\n              <thead><tr><%= head %></tr></thead>\n              <tbody><%= data %></tbody>\n            </table>\n          </div>\n          <div class='ctrl'>\n            <div id='ctrlInfo'  style='float: left;' class='ui-widget-content'><%= info %></div>\n            <div style='float: left;' class='ui-widget-content' hidden>Anzahl markierter Aufträge: <span id='cntSel'>0</span></div>\n            <div id='ctrlPage2' style='float: right;' ><%= browseBtns %></div>\n          </div>\n        </div>");a.html(c({head:f(),data:g(I),selectLen:h(),configBtn:e(),browseBtns:i(),info:j(),bodyWidth:F.bodyWidth,bodyHeight:F.bodyHeight})),u(),v(0)}var x=this[0].id,y="#"+x+" ",z="ebtable-"+a(document).prop("title").replace(" ","")+"-"+x+"-v1.0",A={getStateAsJSON:function(){return JSON.stringify({bodyWidth:a(y+".ebtable").width(),rowsPerPage:F.rowsPerPage,colorderByName:F.colorder.map(function(a){return F.columns[a].name}),invisibleColnames:F.columns.reduce(function(a,b){return b.invisible&&!b.technical&&a.push(b.name),a},[]),colwidths:a(y+"th").map(function(b,c){var d=a(c).prop("id"),e=a(c).width(),f=(_.findWhere(F.columns,{id:d})||{}).name;B(a(c).prop("id"),e,f);var g={};return g[f]=e,g}).toArray().filter(function(a){return!a.undefined}).reduce(function(a,b){return b?_.extend(a,b):a},{})})},saveState:function(a){localStorage[z]=a},loadState:function(a){a&&(F.rowsPerPage=a.rowsPerPage,F.bodyWidth=a.tableWidth,F.colorder=[],a.colorderByName.forEach(function(a){var b=D.indexOfCol(a);b>=0&&F.colorder.push(b)}),F.columns.forEach(function(b,c){_.contains(a.colorderByName,b.name)||F.colorder.push(c),_.contains(a.colwidths,b.name)||(b.css="width:"+a.colwidths[b.name]+"px")}),a.invisibleColnames.forEach(function(a){var b=D.indexOfCol(a);b>=0&&(F.columns[b].invisible=!0)}))}},B=function(){b.debug&&console.log.apply(console,[].slice.call(arguments,0))},C=function(b){return a.fn.ebtable.lang[F.lang][b]||b},D={indexOfCol:function(a){return _.findIndex(F.columns,function(b){return b.name===a})},colNameFromColid:function(a){return _.findWhere(F.columns,{id:a}).name},colColIdFromName:function(a){return _.findWhere(F.columns,{name:a}).id},colIsInvisible:function(a){return _.findWhere(F.columns,{name:a}).invisible},colIsTechnical:function(a){return _.findWhere(F.columns,{name:a}).technical},getRender:function(a){return _.findWhere(F.columns,{name:a}).render},getMatch:function(b){var c=_.findWhere(F.columns,{name:b}).match;return c?_.isString(c)?a.fn.ebtable.matcher[c]:c:a.fn.ebtable.matcher["starts-with-matches"]},getVisibleCols:function(){return F.columns.filter(function(a){return!a.invisible})},checkConfig:function(){F.columns.forEach(function(a){a.technical=a.technical||!1,a.invisible=a.invisible||!1,a.mandatory=a.mandatory||!1,a.order=a.order||"asc"}),G[0]&&G[0].length!==F.columns.length&&(alert("Data definition and column definition don't match!"),localStorage[z]="",F=a.extend({},E,b));var c=localStorage[z];c&&c.colorder&&c.colorder.length!==F.columns.length&&(alert("Column definition and LocalStorage don't match!"),localStorage[z]="",F=a.extend({},E,b)),F.columns.forEach(function(a){a.technical&&!a.invisible&&alert(a.name+": technical column must be invisble!"),a.mandatory&&a.invisible&&alert(a.name+": mandatory column must be visble!")})}},E={columns:[],flags:{filter:!0,pagelenctrl:!0,config:!0,withsorting:!0},bodyHeight:Math.max(200,a(window).height()-100),bodyWidth:Math.max(200,a(window).width()-10),rowsPerPageSelectValues:[10,25,50,100],rowsPerPage:10,colorder:_.range(b.columns.length),selection:!1,singleSelection:!1,saveState:A.saveState,loadState:A.loadState,sortmaster:[],groupdefs:{},hasMoreResults:d,jqueryuiTooltips:!0,lang:"de"};b.flags=_.extend(E.flags,b.flags);var F=a.extend({},E,b),G=mx(c,F.groupdefs),H=mx(G.slice()),I=0,J=Math.floor((H.length-1)/F.rowsPerPage);w(this),a(y+"#lenctrl").selectmenu({change:function(a,b){B("change rowsPerPage",a,b.item.value),F.rowsPerPage=Number(b.item.value),I=0,J=Math.floor((H.length-1)/F.rowsPerPage),v(I),F.saveState&&F.saveState(A.getStateAsJSON())}}),a(y+".firstBtn").button().on("click",function(){I=0,v(I)}),a(y+".backBtn").button().on("click",function(){I=Math.max(0,I-1),v(I)}),a(y+".nextBtn").button().on("click",function(){I=Math.min(I+1,J),v(I)}),a(y+".lastBtn").button().on("click",function(){I=J,v(I)}),a(y+"thead th").off().on("click",p),a(y+"thead input[type=text]").off().on("keypress",s).on("keyup",r).on("click",t),a(y+"thead select").off().on("change",r).on("click",t),a(y+"#data input[type=checkbox]").off().on("change",l),a(y+"#data input[type=radio]").off().on("change",l),a(y+"#configBtn").button().off().on("click",function(){K(x)}),a(y+".ebtable,"+y+".ebtable th").resizable({handles:"e",stop:function(a,b){B("stopping resize!"),F.saveState&&F.saveState(A.getStateAsJSON()),a.stopPropagation()}}),F.singleSelection&&a(y+"#checkAll").hide(),a(window).on("resize",function(){}),a.extend(this,{toggleGroupIsOpen:function(a){var b=I;G.groups[a].isOpen=!G.groups[a].isOpen,u(),J=Math.floor((H.length-1)/F.rowsPerPage),I=Math.min(b,J),v(I)},groupIsOpen:function(a){return _.property("isOpen")(G.groups[a])},getFilterValues:function(){var b={};return a(y+"thead th input[type=text],"+y+"thead th select").each(function(c,d){a.trim(a(d).val())&&(b[d.id]=a(d).val().trim())}),b},setFilterValues:function(b){return a(y+"thead th input[type=text],"+y+"thead th select").each(function(c,d){a(d).val(b[d.id])}),u(),J=Math.floor((H.length-1)/F.rowsPerPage),I=0,v(I),this},getStateAsJSON:A.getStateAsJSON,loadState:A.loadState,iterateSelectedValues:function(a){H.filter(function(a){return a.selected}).forEach(a)},getSelectedRows:function(){return H.filter(function(a){return a.selected})}});var K=function(b){a("#"+b+"configDlg").remove();var c=F.colorder.reduce(function(a,b){var c='<li id="<%=name%>" class="ui-widget-content <%=cls%>"><%=name%></li>',d=F.columns[b],e=d.invisible?"invisible":"visible";return a+(d.technical||d.mandatory?"":_.template(c)({name:d.name,cls:e}))},""),d='        <div id="<%=gridid%>configDlg">\n          <ol id="<%=gridid%>selectable" class="ebtableSelectable"> <%= list %> </ol>\n        </div>',e=a(_.template(d)({list:c,gridid:b})),f={open:function(){a("button:contains(Abbrechen)").text(C("Abbrechen")),a("ol#"+b+"selectable").sortable(),a("#"+b+"configDlg li").off("click").on("click",function(c){a("#"+b+'configDlg [id="'+c.target.id+'"]').toggleClass("invisible").toggleClass("visible"),B("change visibility",c.target.id,"now visible:",!col.invisible)})},position:{my:"left top",at:"left bottom",of:y+"#configBtn"},width:250,modal:!0,resizable:!0,closeText:"Schließen",buttons:{OK:function(){var c=[];a("#"+b+"configDlg li.visible").each(function(b,c){F.columns[D.indexOfCol(a(c).prop("id"))].invisible=!1}),a("#"+b+"configDlg li.invisible").each(function(b,c){F.columns[D.indexOfCol(a(c).prop("id"))].invisible=!0}),a("#"+b+"configDlg li").each(function(b,d){c.push(a(d).prop("id"))}),F.colorder=F.columns.map(function(a,b){return a.technical||a.mandatory?b:D.indexOfCol(c.shift())}),F.saveState&&F.saveState(A.getStateAsJSON()),v(I,!0),a(this).dialog("close")},Abbrechen:function(){a(this).dialog("close")}}};e.dialog(f).parent().find(".ui-widget-header").hide()};return F.jqueryuiTooltips?this.tooltip():this},a.fn.ebtable.sortformats={"date-de":function(a){var b=a.match(/^(\d{2})\.(\d{2})\.(\d{4})$/);return b?b[3]+b[2]+b[1]:""},"datetime-de":function(a){var b=a.match(/^(\d{2})\.(\d{2})\.(\d{4}) (\d{2}):(\d{2})$/);return b?b[3]+b[2]+b[1]+b[4]+b[5]:""},"datetime-sec-de":function(a){var b=a.match(/^(\d{2})\.(\d{2})\.(\d{4}) (\d{2}):(\d{2}):(\d{2})$/);return b?b[3]+b[2]+b[1]+b[4]+b[5]+b[6]:""},scientific:function(a){return parseFloat(a)}},a.fn.ebtable.matcher={contains:function(a,b){return a.indexOf(b)>=0},"starts-with":function(a,b){return 0===a.indexOf(b)},matches:function(a,b){return a.match(new RegExp(".*"+b,"i"))},"starts-with-matches":function(a,b){return a.match(new RegExp("^"+b.replace(/\*/g,".*"),"i"))},"matches-date":function(a,c){return b(new Date(parseInt(a))).substr(10).indexOf(c)>=0},"matches-date-time":function(a,c){return b(new Date(parseInt(a))).substr(16).indexOf(c)>=0},"matches-date-time-sec":function(a,c){return b(new Date(parseInt(a))).indexOf(c)>=0}},a.fn.ebtable.lang={de:{},en:{"(<%=len%> Einträge insgesamt)":"(<%=len%> entries)","<%=start%> bis <%=end%> von <%=count%>  Einträgen <%= filtered %>":"<%=start%> to <%=end%> of <%=count%> shown entries <%= filtered %>","<%=start%> bis <%=end%> von <%=count%> Zeilen <%= filtered %>":"<%=start%> to <%=end%> of <%=count%> shown entries <%= filtered %>",Anpassen:"Configuration",Abbrechen:"Cancel"}}}(jQuery),function(a){"use strict";a.fn.ebtextarea=function(b){var c=this[0].id,d={title:{text:"Test",fontSize:"12px",pos:"top"},counter:{fontSize:"8px",pos:"bottom"},nrRows:5,nrCols:30,maxByte:1e6},e=a.extend({},d,b),f=function(){var b=ebutils.byteCount(a("#"+c+" textarea").val());a("#"+c+" .ebtextareacnt").text("("+b+"/"+e.maxByte+")")},g="<div>"+("top"===e.title.pos?'<span class="ebtextareatitle">'+e.title.text+"&nbsp;&nbsp;</span>":"")+("top"===e.counter.pos?'<span class="ebtextareacnt"><span>':"")+"</div>",h="<div>"+("bottom"===e.title.pos?'<span class="ebtextareatitle">'+e.title.text+"&nbsp;&nbsp;</span>":"")+("bottom"===e.counter.pos?'<span class="ebtextareacnt"></span>':"")+"</div>",i=_.template('      <div class="ebtextarea">\n        <%=top%>\n        <textarea rows="<%=rows%>" cols="<%=cols%>"></textarea>\n        <%=bottom%>\n      </div>\n')({rows:e.nrRows,cols:e.nrCols,top:g,bottom:h});return a(this).html(i),a("#"+c+" textarea").on("keyup",function(){var b=a("#"+c+" textarea").val(),d=ebutils.byteCount(b);if(d>e.maxByte){for(a.alert("Warnung","Maximal erlaubte Textlänge erreicht.\nText wird abgeschnitten.");(d=ebutils.byteCount(b))>e.maxByte;)b=b.slice(0,-1);a(this).val(b)}f()}),f(),a("#"+c+" .ebtextareatitle").css("font-size",e.counter.fontSize),a("#"+c+" .ebtextareacnt").css("font-size",e.counter.fontSize),this.setTextAreaCounter=f,this}}(jQuery);var ebutils=function(){function a(a,b){if(0===a)return"0 Byte";var c=1024,d=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.floor(Math.log(a)/Math.log(c));return(parseFloat((a/Math.pow(c,e)).toFixed(b||2))+" "+d[e]).replace(".",",")}function b(a){function b(a,b){b=b||0;var c=a.charCodeAt(b);if(55296<=c&&c<=56319){var d=c,e=a.charCodeAt(b+1);if(isNaN(e))throw"Kein gültiges Schriftzeichen oder Speicherfehler!";return 1024*(d-55296)+(e-56320)+65536}return!(56320<=c&&c<=57343)&&c}for(var c=0,d=0;d<a.length;d++){var e=b(a,d);"number"==typeof e&&(c+=e<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6)}return c}function c(a){var b={img:"image/jpeg",gif:"image/gif",png:"image/png",tif:"image/tif",tiff:"image/tiff",jpg:"image/jpg",jepg:"image/jepg",pdf:"application/pdf",txt:"text/plain",doc:"application/msword",xls:"application/msexcel",docx:"application/vnd.openxmlformats-officedocument"};return b[a]||"unknown"}return{byteCount:b,formatBytes:a,getMimeByExt:c}}(),mx=function(a,b){var c={zero:function(){return a.fill(0)},row:function(b){return a[b]},rows:function(b){return a.filter(function(c,d){return _.isFunction(b)?b(a[c]):_.indexOf(b,d)>=0})},withoutRows:function(b){return a.filter(function(a,c){return _.isFunction(b)?!b(a):_.indexOf(b,c)<0})},col:function(b){return _.range(a.length).map(function(c){return a[c][b]})},cols:function(b){for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=[],g=0;g<e.length;g++)_.indexOf(b,g)>=0&&f.push(e[g]);c.push(f)}return c},withoutCols:function(b){for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=[],g=0;g<e.length;g++)_.indexOf(b,g)<0&&f.push(e[g]);c.push(f)}return c}},d=function(){var a={rowMatch:function(a){return function(b){a=_.isArray(a)?a:[a];for(var c=!0,d=0;d<a.length&&c;d++){var e=a[d],f=$.trim(b[e.col]),g=e.match||$.fn.ebtable.matcher["starts-with-matches"];c=c&&g(f,e.searchtext,b)}return c}},filterData:function(b){return this.filter(a.rowMatch(b))}};return{filterData:a.filterData}}(),e=function(){var a={normalizeGroupId:function(a){return a<=0?0:a},isGroupingHeader:function(a,b){return a[b.grouplabel]===b.grouphead},initGroups:function(b){if(b.groupid){for(var c={},d=0;d<this.length;d++){var e=this[d],f=a.normalizeGroupId(e[b.groupid]);e.isGroupHeader=e[b.grouplabel]===b.grouphead,e.isGroupElement=f&&!e.isGroupHeader,f&&!c[f]&&(c[f]={isOpen:!1,name:$.trim(e[b.groupname])})}for(var d=0;d<this.length;d++){var e=this[d],f=a.normalizeGroupId(e[b.groupid]);e[b.groupsortstring]=f?c[f].name+" "+f:e[b.groupname]}return this.groups=c,this}},filterGroups:function(b,c){return _.filter(this,function(d){var e=a.normalizeGroupId(d[b.groupid]);return!e||a.isGroupingHeader(d,b)||c[e].isOpen})},getGroupRows:function(a,b){return _.filter(this,function(c){return c[a.groupid]===b})}};return{initGroups:a.initGroups,filterGroups:a.filterGroups,getGroupRows:a.getGroupRows}}(),f=function(){var a={toLower:function(a){return _.isString(a)?a.toLowerCase():a},prepareItem:function(b,c,d,e,f){var g=b[c]||"";return a.toLower(d?d(g,b,e,f):g)},rowCmpCols:function(b,c){return b=_.isArray(b)?b:[b],function(d,e){for(var f=0;f<b.length;f++){var g=b[f],h=g.sortformat?$.fn.ebtable.sortformats[g.sortformat]:void 0,i=a.prepareItem(d,g.col,h,c,g.order),j=a.prepareItem(e,g.col,h,c,g.order),k=i<j?-1:i>j?1:0;if(0!==k){var l=!g.order||g.order.indexOf("desc")<0;return l?k:-k}}return 0}}};return{rowCmpCols:a.rowCmpCols}}(),g=(function(){var a=0,b=10,c=Math.floor((this.length-1)/b),d={setPageSize:function(a){pageNr=0,b=a,c=Math.floor((this.length-1)/a)},getCurPageData:function(){var a=b*pageNr;return this.rows(_range(a,a+b))}};return{pageFirst:function(){a=0},pagePrev:function(){a=Math.max(0,a-1)},pageNext:function(){a=Math.min(a+1,c)},pageLast:function(){a=c},setPageSize:d.setPageSize,getCurPageData:d.getCurPageData}}(),_.extend(a,c,f,d,e));return b&&g.initGroups(b),g};