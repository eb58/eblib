<!DOCTYPE html>
<html>
  <head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/vendor/jQueryUI-1.12.0/jquery-ui.css">

    <script src="/vendor/underscore-1.8.3/underscore.js"></script>
    <script src="/vendor/jQuery-1.11.3/jquery.js"></script>
    <script src="/vendor/jQueryUI-1.12.0/jquery-ui.js"></script>
    <script src="/js/polyfills.js"></script>
    <script src="/js/ebviewer/ebviewer.js"></script>
    <script>
      var sbw = 16;
      console.log(sbw);

      $(document).ready(function () {
        $('#test1').button().click(function () {
          ebviewer.view('/docs/test.pdf', 'pdf', {});
        });
        $('#test2').button().click(function () {
          ebviewer.view('/docs/test.jpg', 'jpg', {});
        });
        $('#test3').button().click(function () {
          console.log($.confirm('Frage', 'ja?'));
        });

        $("#myDialog").dialog({
          autoOpen: false,
          buttons: {
            'Position merken': function () { },
            'Lokaler Druck': function () { },
            'Abbrechen': function () {
              $(this).dialog("close");
            }
          }
        });

        $("#b1").click(function (event) {
          $("#myDialog").dialog("open");
          $(window).resize();
        });
        //$(window).resize();
      });
      var i = 0;
      $(window).resize(_.debounce(function (e) {
        console.log(e, i++);
        $('.ui-dialog').css({
          'width': $(window).width() - sbw,
          'height': $(window).height() - sbw,
          'left': '0px',
          'top': '0px'
        });
      }), 1000);
    </script>
  </head>
  <body>
    <button id='test1'>TESTPDF</button>
    <button id='test2'>TESTIMG</button>
    <button id='test3'>xxx</button>

    <div id="myDialog">
      <img src="/docs/test.jpg" style='width:95%' alt="Bild!"/>  
    </div>
    <button id="b1">Test</button>
  </body>
</html>
